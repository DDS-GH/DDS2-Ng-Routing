<h2>Dropdown</h2>
<div class="dds__row">
  <div class="dds__col--1 dds__col--sm-12 dds__col--md-12 dds__mb-3">
    <p>
      Please be aware that CodeSandbox is requiring the array being used to
      populate these Dropdowns to be stringified, because CodeSandbox is
      auto-prettifying and removing JSON string names. You should not need to do
      this in your implementation.
    </p>
    <dds-dropdown
      elementId="ddsDropdownSimple"
      label="Simple Dropdown Example"
      helper="Helper Text"
      selection="single"
      [groups]="dropdownData[0].groups"
    >
    </dds-dropdown>
  </div>
</div>
<div class="dds__row">
  <div class="boxControl dds__col--1 dds__col--sm-12 dds__col--md-12 dds__mb-3">
    <h3>Backend Data</h3>
    <p>
      Below is an successful <i>experiment</i> to adapt the Dropdown to work
      against backend data, so text searches done in its input field then
      recreate the dropdown with the new data, and a page-level memory is kept
      to remember previously-selected options.
    </p>
    <dds-button
      elementId="dropdownUpdate"
      ariaLabel="Update Data in dropdown"
      (click)="handleDropdown.externalUpdate()"
    >
      Update Data
    </dds-button>
  </div>
</div>
<div class="dds__row">
  <div class="dds__col--1 dds__col--sm-6 dds__col--md-6 dds__mb-3">
    <dds-dropdown
      #multipleDropdown
      elementId="ddsDropdown"
      selection="multiple"
      noOptionsLabel="Searching"
      selectedLabel="Chosen"
      srClearLabel="Get rid of selection"
      useBackend="true"
      (onKeyUp)="handleDropdown.keyUp(1, $event)"
      (optionSelected)="handleDropdown.select(1, $event)"
      (optionDeselected)="handleDropdown.deselect(1, $event)"
      (optionsCleared)="handleDropdown.clear(1, $event)"
      label="Experimental Backend Searching"
      helper="You must set useBackend to true for this to kick in"
      [groups]="dropdownData[1].groups"
    >
    </dds-dropdown>
  </div>
  <div class="dds__col--1 dds__col--sm-6 dds__col--md-6 dds__mb-3">
    <ng-container *ngFor="let tag of dropdownData[1].stored">
      <dds-tag
        (onDismiss)="multipleDropdown.deselect($event)"
        (click)="
          handleTagClick(1, $event, multipleDropdown, {
            value: tag.value,
            text: tag.text
          })
        "
        value="{{ tag.value }}"
      >
        {{ tag.text }}
      </dds-tag>
    </ng-container>
  </div>
</div>
<div class="dds__row">
  <div class="dds__col--1 dds__col--sm-6 dds__col--md-6 dds__mb-3">
    <dds-dropdown
      #secondMultiple
      selection="multiple"
      noOptionsLabel="Searching"
      selectedLabel="Grabbed"
      srClearLabel="Get rid of selection"
      useBackend="true"
      (onKeyUp)="handleDropdown.keyUp(2, $event)"
      (optionSelected)="handleDropdown.select(2, $event)"
      (optionDeselected)="handleDropdown.deselect(2, $event)"
      (optionsCleared)="handleDropdown.clear(2, $event)"
      elementId="ddsDropdownOther"
      label="Experimental Backend Searching"
      helper="You must set useBackend to true for this to kick in"
      [groups]="dropdownData[2].groups"
    >
    </dds-dropdown>
  </div>
  <div class="dds__col--1 dds__col--sm-6 dds__col--md-6 dds__mb-3">
    <ng-container *ngFor="let tag of dropdownData[2].stored">
      <dds-tag
        (onDismiss)="secondMultiple.deselect($event)"
        (click)="
          handleTagClick(2, $event, secondMultiple, {
            value: tag.value,
            text: tag.text
          })
        "
        value="{{ tag.value }}"
      >
        {{ tag.text }}
      </dds-tag>
    </ng-container>
  </div>
  <div class="dds__row">
    <div class="dds__col--1 dds__col--sm-12 dds__col--md-12 dds__mb-3">
      <h3>Other Experiments</h3>
      <ul>
        <li>
          <a href="https://codepen.io/DorkForce/pen/mdqKQPj?editors=1011">
            DDS2 Dropdown Test: Select All
          </a>
        </li>
        <li>
          <a href="https://codepen.io/DorkForce/pen/rNYYrQX?editors=1010">
            DDS2 Ticket #288, Dropdown methods and events
          </a>
        </li>
        <li>
          <a [routerLink]="'/ticket319'">
            Ticket319: Dropdown Inside an Accordion
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
