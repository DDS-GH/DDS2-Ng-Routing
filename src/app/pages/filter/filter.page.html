<h2>Filter</h2>
<div class="dds__row">
  <div class="dds__col--2 dds__col--sm-12 dds__col--md-12 dds__mb-3">
    <h3>Vertical</h3>
    <dds-accordion
      ddsOptions="{independent: false; srExpandAll: 'is expanded', srCollapseAll: 'is collapsed'}"
      controls="false"
    >
      <dds-accordion-item
        [title]="['little cat purr purr', 'CHECKBOXES ARE REPEATED IN THIS SAMPLE', 'catch a bird'][i]"
        *ngFor="let item of [1,2,3]; index as i; first as isFirst"
        expanded="{{isFirst}}"
        disabled="{{!isFirst && i % 2 === 0 ? true : false}}"
      >
        <dds-moreless
          title="More napping"
          type="list"
          srMore="all the napping is exhausting"
          classList="checkboxList"
        >
          <ul is-list class="dds__more-less__target">
            <li>
              <label class="dds__checkbox__label" for="checkbox-input-0">
                <input
                  type="checkbox"
                  tabindex="0"
                  id="checkbox-input-0"
                  name="example-checkbox"
                  class="dds__checkbox__input"
                  [(ngModel)]="checkbox0"
                />
                <span>shake treat bag</span>
              </label>
            </li>
            <li>
              <label class="dds__checkbox__label" for="checkbox-input-1">
                <input
                  type="checkbox"
                  tabindex="0"
                  id="checkbox-input-1"
                  name="example-checkbox"
                  class="dds__checkbox__input"
                  [(ngModel)]="checkbox1"
                />
                <span>sleeps all day</span>
              </label>
            </li>
            <li>
              <label class="dds__checkbox__label" for="checkbox-input-2">
                <input
                  type="checkbox"
                  tabindex="0"
                  id="checkbox-input-2"
                  name="example-checkbox"
                  class="dds__checkbox__input"
                  [(ngModel)]="checkbox2"
                />
                <span>crouch, shake butt</span>
              </label>
            </li>
            <li>
              <label class="dds__checkbox__label" for="checkbox-input-3">
                <input
                  type="checkbox"
                  tabindex="0"
                  id="checkbox-input-3"
                  name="example-checkbox"
                  class="dds__checkbox__input"
                  [(ngModel)]="checkbox3"
                />
                <span>prepare to pounce</span>
              </label>
            </li>
            <li hidden="true">
              <label class="dds__checkbox__label" for="checkbox-input-4">
                <input
                  type="checkbox"
                  tabindex="0"
                  id="checkbox-input-4"
                  name="example-checkbox"
                  class="dds__checkbox__input"
                  [(ngModel)]="checkbox4"
                />
                <span>gives owner dead mouse</span>
              </label>
            </li>
            <li hidden="true">
              <label class="dds__checkbox__label" for="checkbox-input-5">
                <input
                  type="checkbox"
                  tabindex="0"
                  id="checkbox-input-5"
                  name="example-checkbox"
                  class="dds__checkbox__input"
                  [(ngModel)]="checkbox5"
                />
                <span>does not like water meow</span>
              </label>
            </li>
          </ul>
        </dds-moreless>
      </dds-accordion-item>
    </dds-accordion>
  </div>
</div>
<div class="dds__row">
  <div class="dds__col--2 dds__col--sm-12 dds__col--md-12 dds__mb-3">
    <h3>Horizontal</h3>
    <p>
      The first dropdown below ("meow meow") is showing an successful
      <i>experiment</i> to adapt the Dropdown to work against backend data, so
      text searches done in its input field then recreate the dropdown with the
      new data, and a page-level memory is kept to remember previously-selected
      options.
      <b>
        Note for backend searching, you must set useBackend="true"
      </b>
    </p>
    <div class="controlPanel">
      <dds-button
        elementId="dropdownUpdate"
        ariaLabel="Update Data in dropdown"
        (click)="handleDropdown.externalUpdate()"
      >
        Update Data
      </dds-button>
    </div>
  </div>
</div>
<div class="dds__row">
  <div class="dds__col--1 dds__col--sm-3 dds__col--md-4 dds__mb-3">
    <dds-dropdown
      #filter0
      elementId="ddsDropdownFilter0"
      [groups]="dropdownData[0].groups"
      (onKeyUp)="handleDropdown.keyUp(0, $event)"
      (optionSelected)="handleDropdown.select(0, $event)"
      (optionDeselected)="handleDropdown.deselect(0, $event)"
      (optionsCleared)="handleDropdown.clear(0, $event)"
      selection="multiple"
      noOptionsLabel="Searching"
      selectedLabel="Selected"
      srClearLabel="Get rid of selection"
      useBackend="true"
      label="meow meow"
    >
    </dds-dropdown>
  </div>
  <div class="dds__col--1 dds__col--sm-3 dds__col--md-4 dds__mb-3">
    <dds-dropdown
      #filter1
      elementId="ddsDropdownFilter1"
      [groups]="dropdownData[1].groups"
      (optionSelected)="handleDropdown.select(1, $event)"
      (optionDeselected)="handleDropdown.deselect(1, $event)"
      (optionsCleared)="handleDropdown.clear(1, $event)"
      selection="multiple"
      selectedLabel="Selected"
      srClearLabel="Get rid of selection"
      label="why dog in house?"
      [warning]="dogHouseWarning"
    >
    </dds-dropdown>
  </div>
  <div class="dds__col--1 dds__col--sm-3 dds__col--md-4 dds__mb-3">
    <dds-dropdown
      #filter2
      elementId="ddsDropdownFilter2"
      [groups]="dropdownData[2].groups"
      (optionSelected)="handleDropdown.select(2, $event)"
      (optionDeselected)="handleDropdown.deselect(2, $event)"
      (optionsCleared)="handleDropdown.clear(2, $event)"
      selection="multiple"
      selectedLabel="Selected"
      srClearLabel="Get rid of selection"
      label="bite because im moody"
    >
    </dds-dropdown>
  </div>
</div>
<div class="dds__row">
  <div
    *ngIf="dropdownData[0].stored.length > 0 || dropdownData[1].stored.length > 0 || dropdownData[2].stored.length > 0"
    class="dds__col--1 dds__col--sm-12 dds__col--md-12 dds__mb-3 tagContainer"
  >
    Filter Results ({{ dropdownData[0].stored.length +
    dropdownData[1].stored.length + dropdownData[2].stored.length }}):
    <ng-container *ngFor="let tag of dropdownData[0].stored">
      <dds-tag
        (onDismiss)="filter0.deselect($event)"
        (click)="
              handleTagClick(0, $event, filter0, {
                value: tag.value,
                text: tag.text
              })
            "
        value="{{ tag.value }}"
      >
        {{ tag.text }}
      </dds-tag>
    </ng-container>
    <ng-container *ngFor="let tag of dropdownData[1].stored">
      <dds-tag
        (onDismiss)="filter1.deselect($event)"
        (click)="
                handleTagClick(1, $event, filter1, {
                  value: tag.value,
                  text: tag.text
                })
              "
        value="{{ tag.value }}"
      >
        {{ tag.text }}
      </dds-tag>
    </ng-container>
    <ng-container *ngFor="let tag of dropdownData[2].stored">
      <dds-tag
        (onDismiss)="filter2.deselect($event)"
        (click)="
                  handleTagClick(2, $event, filter2, {
                    value: tag.value,
                    text: tag.text
                  })
                "
        value="{{ tag.value }}"
      >
        {{ tag.text }}
      </dds-tag>
    </ng-container>
    <button
      class="dds__button dds__button--tertiary"
      (click)="clearAllFilters()"
    >
      Clear All
    </button>
  </div>
</div>
<div style="height: 400px;"></div>
